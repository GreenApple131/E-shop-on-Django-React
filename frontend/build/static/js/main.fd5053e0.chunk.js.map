{"version":3,"sources":["hoc/hoc.js","store/actions/auth.js","store/actions/actionTypes.js","components/Login.js","components/Signup.js","constants.js","utils.js","store/actions/cart.js","components/Home.js","components/ProductList.js","components/ProductDetail.js","components/OrderSummary.js","components/Checkout.js","components/Profile.js","components/SearchResult.js","components/Categories.js","routes.js","components/Layout.js","App.js","registerServiceWorker.js","store/utility.js","store/reducers/auth.js","store/reducers/cart.js","index.js"],"names":["Hoc","props","children","authSuccess","token","type","authFail","error","logout","localStorage","removeItem","logoutReload","window","location","reload","checkAuthTimeout","expirationTime","dispatch","setTimeout","LoginForm","state","username","password","handleChange","e","setState","target","name","value","handleSubmit","preventDefault","login","this","loading","to","Grid","textAlign","style","height","verticalAlign","Column","maxWidth","Header","as","color","message","Fragment","Form","size","onSubmit","Segment","stacked","Input","onChange","fluid","icon","iconPosition","placeholder","Button","disabled","Message","React","Component","connect","auth","axios","post","then","res","data","key","expirationDate","Date","getTime","setItem","catch","err","authLogin","RegistrationForm","email","password1","password2","signup","authSignup","localhost","endpoint","mediaURL","productListURL","productDetailURL","slug","addToCartURL","orderSummaryURL","checkoutURL","addCouponURL","orderItemDeleteURL","id","orderItemUpdateQuantityURL","authAxios","create","baseURL","headers","Authorization","getItem","fetchCart","get","console","log","Background","Background2","Background3","createMedia","breakpoints","mobile","tablet","computer","Media","MediaContextProvider","HomepageHeading","Container","text","content","inverted","fontSize","fontWeight","marginBottom","marginTop","primary","Icon","DesktopContainer","handleAddToCart","hideFixedMenu","fixed","title","description","button","redirectLink","image","greaterThan","Visibility","once","onBottomPassed","showFixedMenu","onBottomPassedReverse","maxHeight","padding","vertical","className","map","item","index","background","width","header","JSON","stringify","Divider","Dimmer","active","Loader","Image","src","Card","Group","backgroundPosition","backgroundSize","backgroundRepeat","wrapped","ui","onClick","history","push","Content","Item","Meta","category","discount_price","Label","Description","extra","floated","price","animated","hidden","visible","ProductList","doubling","columns","ProductDetail","formVisible","formData","handleToggleForm","handleChangeColor","black","handleFetchItem","params","match","productSlug","handleFormatData","Object","keys","variations","updatedFormData","BreadcrumbExampleSection","Breadcrumb","Section","link","category_type","toLowerCase","divided","Row","label","required","inline","s","Field","control","Radio","checked","basic","withRouter","OrderSummary","handleFetchOrder","response","status","renderVariations","orderItem","forEach","iv","handleRemoveQuantityFromCart","handleRemoveItem","delete","isAuthenticated","Table","celled","HeaderCell","Body","order_items","i","Cell","float","cursor","quantity","ribbon","final_price","colSpan","total","Footer","CARD_ELEMENT_OPTIONS","base","fontFamily","fontSmoothing","invalid","iconColor","CardSection","options","OrderPreview","relaxed","Extra","coupon","marginLeft","code","amount","CouponForm","handleAddCoupon","CheckoutForm","success","submit","event","stripe","createToken","result","stripeToken","positive","htmlFor","stripePromise","loadStripe","Checkout","Profile","activeItem","handleItemClick","container","Menu","initialState","isLoading","results","searchValue","reducer","action","query","selection","Error","SearchBar","useReducer","useState","setList","useHistory","timeoutRef","useRef","handleSearchChange","useCallback","clearTimeout","current","length","list","source","re","RegExp","_","escapeRegExp","filter","test","useEffect","Search","input","onKeyDown","keyCode","pathname","onResultSelect","onSearchChange","circular","minWidth","SearchResult","searchRequest","SearchFilterResults","renderResults","CategorieChoose","categoryChoose","BaseRouter","path","exact","component","HomepageLayout","Login","Signup","CustomLayout","dropdownMenuStyle","display","handleToggleDropdownMenu","newState","assign","authenticated","cart","padded","borderless","Dropdown","position","order_item","toggle","stackable","List","section","centered","horizontal","href","shoppingCart","App","onTryAutoSignup","undefined","isLocalhost","Boolean","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","updateObject","oldObject","updatedProperties","authStart","authLogout","authReload","cartStart","cartSuccess","cartFail","composeEnhances","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","authReducer","cartReduser","store","createStore","applyMiddleware","thunk","app","ReactDOM","render","document","getElementById","URL","process","origin","addEventListener","fetch","indexOf","ready","unregister","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.fd5053e0.chunk.js","sourcesContent":["const Hoc = props => props.children;\n\nexport default Hoc;\n","import axios from \"axios\";\nimport * as actionTypes from \"./actionTypes\";\n\nexport const authStart = () => {\n  return {\n    type: actionTypes.AUTH_START\n  };\n};\n\nexport const authSuccess = token => {\n  return {\n    type: actionTypes.AUTH_SUCCESS,\n    token: token\n  };\n};\n\nexport const authFail = error => {\n  return {\n    type: actionTypes.AUTH_FAIL,\n    error: error\n  };\n};\n\nexport const logout = () => {\n  localStorage.removeItem(\"token\");\n  localStorage.removeItem(\"expirationDate\");\n  return {\n    type: actionTypes.AUTH_LOGOUT\n  };\n};\n\nexport const logoutReload = () => {\n  window.location.reload(false);\n  return {\n    type: actionTypes.AUTH_RELOAD\n  };\n};\n\nexport const checkAuthTimeout = expirationTime => {\n  return dispatch => {\n    setTimeout(() => {\n      dispatch(logout());\n      dispatch(logoutReload());\n    }, expirationTime * 1000);\n  };\n};\n\nexport const authLogin = (username, password) => {\n  return dispatch => {\n    dispatch(authStart());\n    axios\n      .post(\"http://127.0.0.1:8000/rest-auth/login/\", {\n        username: username,\n        password: password\n      })\n      .then(res => {\n        const token = res.data.key;\n        const expirationDate = new Date(new Date().getTime() + 3600 * 1000);\n        localStorage.setItem(\"token\", token);\n        localStorage.setItem(\"expirationDate\", expirationDate);\n        dispatch(authSuccess(token));\n        dispatch(checkAuthTimeout(3600));\n        window.location.reload(false);\n      })\n      .catch(err => {\n        dispatch(authFail(err));\n      });\n  };\n};\n\nexport const authSignup = (username, email, password1, password2) => {\n  return dispatch => {\n    dispatch(authStart());\n    axios\n      .post(\"http://127.0.0.1:8000/rest-auth/registration/\", {\n        username: username,\n        email: email,\n        password1: password1,\n        password2: password2\n      })\n      .then(res => {\n        const token = res.data.key;\n        const expirationDate = new Date(new Date().getTime() + 3600 * 1000);\n        localStorage.setItem(\"token\", token);\n        localStorage.setItem(\"expirationDate\", expirationDate);\n        dispatch(authSuccess(token));\n        dispatch(checkAuthTimeout(3600));\n        window.location.reload(false);\n      })\n      .catch(err => {\n        dispatch(authFail(err));\n      });\n  };\n};\n\nexport const authCheckState = () => {\n  return dispatch => {\n    const token = localStorage.getItem(\"token\");\n    if (token === undefined) {\n      dispatch(logout());\n    } else {\n      const expirationDate = new Date(localStorage.getItem(\"expirationDate\"));\n      if (expirationDate <= new Date()) {\n        dispatch(logout());\n      } else {\n        dispatch(authSuccess(token));\n        dispatch(\n          checkAuthTimeout(\n            (expirationDate.getTime() - new Date().getTime()) / 1000\n          )\n        );\n      }\n    }\n  };\n};\n","export const AUTH_START = \"AUTH_START\";\nexport const AUTH_SUCCESS = \"AUTH_SUCCESS\";\nexport const AUTH_RELOAD = \"AUTH_RELOAD\";\nexport const AUTH_FAIL = \"AUTH_FAIL\";\nexport const AUTH_LOGOUT = \"AUTH_LOGOUT\";\n\nexport const CART_START = \"CART_START\";\nexport const CART_SUCCESS = \"CART_SUCCESS\";\nexport const CART_FAIL = \"CART_FAIL\";\nexport const CART_LOGOUT = \"CART_LOGOUT\";\n","import React from \"react\";\nimport {\n  Button,\n  Form,\n  Grid,\n  Header,\n  Message,\n  Segment\n} from \"semantic-ui-react\";\nimport { connect } from \"react-redux\";\nimport { NavLink, Redirect } from \"react-router-dom\";\nimport { authLogin } from \"../store/actions/auth\";\n\nclass LoginForm extends React.Component {\n  state = {\n    username: \"\",\n    password: \"\"\n  };\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { username, password } = this.state;\n    this.props.login(username, password);\n  };\n\n  render() {\n    const { error, loading, token } = this.props;\n    const { username, password } = this.state;\n    if (token) {\n      return <Redirect to=\"/\" />;\n    }\n    return (\n      <Grid\n        textAlign=\"center\"\n        style={{ height: \"100vh\" }}\n        verticalAlign=\"middle\"\n      >\n        <Grid.Column style={{ maxWidth: 450 }}>\n          <Header as=\"h2\" color=\"teal\" textAlign=\"center\">\n            Log-in to your account\n          </Header>\n          {error && <p>{this.props.error.message}</p>}\n\n          <React.Fragment>\n            <Form size=\"large\" onSubmit={this.handleSubmit}>\n              <Segment stacked>\n                <Form.Input\n                  onChange={this.handleChange}\n                  value={username}\n                  name=\"username\"\n                  fluid\n                  icon=\"user\"\n                  iconPosition=\"left\"\n                  placeholder=\"Username\"\n                />\n                <Form.Input\n                  onChange={this.handleChange}\n                  fluid\n                  value={password}\n                  name=\"password\"\n                  icon=\"lock\"\n                  iconPosition=\"left\"\n                  placeholder=\"Password\"\n                  type=\"password\"\n                />\n\n                <Button\n                  color=\"teal\"\n                  fluid\n                  size=\"large\"\n                  loading={loading}\n                  disabled={loading}\n                >\n                  Login\n                </Button>\n              </Segment>\n            </Form>\n            <Message>\n              New to us? <NavLink to=\"/signup\">Sign Up</NavLink>\n            </Message>\n          </React.Fragment>\n        </Grid.Column>\n      </Grid>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    loading: state.auth.loading,\n    error: state.auth.error,\n    token: state.auth.token\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    login: (username, password) => dispatch(authLogin(username, password))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(LoginForm);\n","import React from \"react\";\nimport {\n  Button,\n  Form,\n  Grid,\n  Header,\n  Message,\n  Segment\n} from \"semantic-ui-react\";\nimport { connect } from \"react-redux\";\nimport { NavLink, Redirect } from \"react-router-dom\";\nimport { authSignup } from \"../store/actions/auth\";\n\nclass RegistrationForm extends React.Component {\n  state = {\n    username: \"\",\n    email: \"\",\n    password1: \"\",\n    password2: \"\"\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { username, email, password1, password2 } = this.state;\n    this.props.signup(username, email, password1, password2);\n  };\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  render() {\n    const { username, email, password1, password2 } = this.state;\n    const { error, loading, token } = this.props;\n    if (token) {\n      return <Redirect to=\"/\" />;\n    }\n    return (\n      <Grid\n        textAlign=\"center\"\n        style={{ height: \"100vh\" }}\n        verticalAlign=\"middle\"\n      >\n        <Grid.Column style={{ maxWidth: 450 }}>\n          <Header as=\"h2\" color=\"teal\" textAlign=\"center\">\n            Signup to your account\n          </Header>\n          {error && <p>{this.props.error.message}</p>}\n\n          <React.Fragment>\n            <Form size=\"large\" onSubmit={this.handleSubmit}>\n              <Segment stacked>\n                <Form.Input\n                  onChange={this.handleChange}\n                  value={username}\n                  name=\"username\"\n                  fluid\n                  icon=\"user\"\n                  iconPosition=\"left\"\n                  placeholder=\"Username\"\n                />\n                <Form.Input\n                  onChange={this.handleChange}\n                  value={email}\n                  name=\"email\"\n                  fluid\n                  icon=\"mail\"\n                  iconPosition=\"left\"\n                  placeholder=\"E-mail address\"\n                />\n                <Form.Input\n                  onChange={this.handleChange}\n                  fluid\n                  value={password1}\n                  name=\"password1\"\n                  icon=\"lock\"\n                  iconPosition=\"left\"\n                  placeholder=\"Password\"\n                  type=\"password\"\n                />\n                <Form.Input\n                  onChange={this.handleChange}\n                  fluid\n                  value={password2}\n                  name=\"password2\"\n                  icon=\"lock\"\n                  iconPosition=\"left\"\n                  placeholder=\"Confirm password\"\n                  type=\"password\"\n                />\n\n                <Button\n                  color=\"teal\"\n                  fluid\n                  size=\"large\"\n                  loading={loading}\n                  disabled={loading}\n                >\n                  Signup\n                </Button>\n              </Segment>\n            </Form>\n            <Message>\n              Already have an account? <NavLink to=\"/login\">Login</NavLink>\n            </Message>\n          </React.Fragment>\n        </Grid.Column>\n      </Grid>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    loading: state.auth.loading,\n    error: state.auth.error,\n    token: state.auth.token\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    signup: (username, email, password1, password2) =>\n      dispatch(authSignup(username, email, password1, password2))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(RegistrationForm);\n","// endpoints\nexport const localhost = \"http://127.0.0.1:8000\"\n\nconst apiURL = \"/api\"\n\nexport const endpoint = `${localhost}${apiURL}`\n\nexport const mediaURL = `${localhost}/media/`\n\nexport const productListURL = `${endpoint}/products/`\nexport const productDetailURL = slug => `${endpoint}/products/${slug}/`\nexport const addToCartURL = `${endpoint}/add-to-cart/`\nexport const orderSummaryURL = `${endpoint}/order-summary/`\nexport const checkoutURL = `${endpoint}/checkout/`\nexport const addCouponURL = `${endpoint}/add-coupon/`\n\nexport const orderItemDeleteURL = id => `${endpoint}/order-items/${id}/delete/`\nexport const orderItemUpdateQuantityURL = `${endpoint}/order-item/update-quantity/`\n\n","import axios from 'axios';\nimport {endpoint} from './constants';\n\n\nexport const authAxios = axios.create({\n    baseURL: endpoint,\n    headers: {\n        Authorization: `Token ${localStorage.getItem('token')}`\n    }\n});","import { CART_START, CART_SUCCESS, CART_FAIL } from \"./actionTypes\";\nimport  { authAxios } from \"../../utils\";\nimport { orderSummaryURL } from \"../../constants\";\n\n\nexport const cartStart = () => {\n  return {\n    type: CART_START\n  };\n};\n\nexport const cartSuccess = data => {\n  console.log(data);\n  return {\n    type: CART_SUCCESS,\n    data\n  };\n};\n\nexport const cartFail = error => {\n  return {\n    type: CART_FAIL,\n    error: error\n  };\n};\n\n\nexport const fetchCart = () => {\n    return dispatch => {\n      dispatch(cartStart());\n      authAxios\n        .get(orderSummaryURL)\n        .then(res => {\n          dispatch(cartSuccess(res.data));\n        })\n        .catch(err => {\n          dispatch(cartFail(err));\n        });\n    };\n  };","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport { mediaURL, productListURL, addToCartURL } from \"../constants\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport {\n  Button,\n  Card,\n  Container,\n  Dimmer,\n  Divider,\n  Grid,\n  Header,\n  Icon,\n  Image,\n  Item,\n  Label,\n  Loader,\n  Message,\n  Sidebar,\n  Segment,\n  Visibility,\n} from \"semantic-ui-react\";\nimport { authAxios } from \"../utils\";\nimport { fetchCart } from \"../store/actions/cart\";\nimport { createMedia } from \"@artsy/fresnel\";\nimport \"../App.css\";\n\n// slider\n// import { Carousel } from 'react-responsive-carousel'\nimport Slider from \"react-animated-slider\";\nimport \"react-animated-slider/build/horizontal.css\";\n// import 'normalize.css/normalize.css'\nimport \"./elements/sliderStyles.css\";\nimport \"./elements/slider-animations.css\";\n\nconst Background = mediaURL + \"background.jpg\";\nconst Background2 = mediaURL + \"background2.jpg\";\nconst Background3 = mediaURL + \"background3.jpg\";\n\nconst { MediaContextProvider, Media } = createMedia({\n  breakpoints: {\n    mobile: 0,\n    tablet: 768,\n    computer: 1024,\n  },\n});\n\n/* Heads up!\n * HomepageHeading uses inline styling, however it's not the best practice. Use CSS or styled\n * components for such things.\n */\nconst HomepageHeading = ({ mobile }) => (\n  <Container text>\n    <Header\n      as=\"h1\"\n      content=\"Imagine-a-Company\"\n      inverted\n      style={{\n        fontSize: mobile ? \"2em\" : \"4em\",\n        fontWeight: \"normal\",\n        marginBottom: -700,\n        marginTop: mobile ? \"1.5em\" : \"3em\",\n      }}\n    />\n    <Header\n      as=\"h2\"\n      content=\"Do whatever you want when you want to.\"\n      inverted\n      style={{\n        fontSize: mobile ? \"1.5em\" : \"1.7em\",\n        fontWeight: \"normal\",\n        marginTop: mobile ? \"0.5em\" : \"1.5em\",\n      }}\n    />\n    <Button primary size=\"huge\">\n      Get Started\n      <Icon name=\"right arrow\" />\n    </Button>\n  </Container>\n);\n\nHomepageHeading.propTypes = {\n  mobile: PropTypes.bool,\n};\n\n/* Heads up!\n * Neither Semantic UI nor Semantic UI React offer a responsive navbar, however, it can be implemented easily.\n * It can be more complicated, but you can create really flexible markup.\n */\n\nclass DesktopContainer extends Component {\n  state = {\n    loading: false,\n    error: null,\n    data: [],\n  };\n\n  async componentDidMount() {\n    this.setState({ loading: true });\n\n    // this.props.fetchCart(); // update the cart count\n\n    const res = await axios\n      .get(productListURL)\n      .then((res) => {\n        console.log(res.data);\n        this.setState({ data: res.data, loading: false });\n      })\n      .catch((err) => {\n        this.setState({ error: err, loading: false });\n      });\n  }\n\n  handleAddToCart = (slug) => {\n    this.setState({ loading: true });\n\n    authAxios\n      .post(addToCartURL, { slug })\n      .then((res) => {\n        this.props.fetchCart(); // update the cart count\n\n        this.setState({ loading: false });\n      })\n      .catch((err) => {\n        this.setState({ error: err, loading: false });\n      });\n  };\n\n  hideFixedMenu = () => this.setState({ fixed: false });\n  // showFixedMenu = () => this.setState({ fixed: true })\n\n  render() {\n    const { children } = this.props;\n    const { data, error, loading } = this.state;\n\n    const content = [\n      {\n        title: \"WELCOME\",\n        description: \"BUY ONLINE : WWW.ESHOP.COM\",\n        button: \"Buy now!\",\n        redirectLink: \"products\",\n        image: Background,\n\n        // user: 'Luan Gjokaj',\n        // userProfile: 'https://i.imgur.com/JSW6mEk.png'\n      },\n      {\n        title: \"OUR VISION AND GOAL\",\n        description: \"Our believes in a Malaysian future where IT…\",\n        button: \"Discover\",\n        redirectLink: \"login\",\n        image: Background2,\n        // user: 'Erich Behrens',\n        // userProfile: 'https://i.imgur.com/0Clfnu7.png'\n      },\n      {\n        title: \"BUSINESS ACTIVITIES\",\n        description:\n          \"Due to the rapid change of the Information Technology industry,…\",\n        button: \"Read More\",\n        redirectLink: \"signup\", // link to redirect page\n        image: Background3,\n        // user: 'Bruno Vizovskyy',\n        // userProfile: 'https://i.imgur.com/4KeKvtH.png'\n      },\n    ];\n\n    return (\n      <Media greaterThan=\"mobile\">\n        <Visibility\n          once={false}\n          onBottomPassed={this.showFixedMenu}\n          onBottomPassedReverse={this.hideFixedMenu}\n        >\n          {/* <Container> */}\n          <Segment\n            inverted\n            textAlign=\"center\"\n            style={{ maxHeight: 700, padding: \"0em 0em\" }}\n            vertical\n          >\n            <Slider className=\"slider-wrapper\">\n              {content.map((item, index) => (\n                <div\n                  key={index}\n                  className=\"slider-content\"\n                  // style={{ background: `url('${item.image}') no-repeat center center` }}\n                  style={{ background: `url(${item.image})` }}\n                >\n                  <div\n                    className=\"inner\"\n                    style={{ height: \"auto\", width: \"100%\" }}\n                  >\n                    <h1>{item.title}</h1>\n                    <p>{item.description}</p>\n                    <Link to={item.redirectLink}>\n                      <button>{item.button}</button>\n                    </Link>\n                  </div>\n                </div>\n              ))}\n            </Slider>\n            {/* <HomepageHeading /> */}\n          </Segment>\n          {/* </Container> */}\n        </Visibility>\n\n        {/* <ProductList /> */}\n\n        <Container style={{ marginTop: \"10px\", marginBottom: \"10px\" }}>\n          {error && ( // if error then do smth after &&\n            <Message\n              error\n              header=\"There was some errors with your submission\"\n              content={JSON.stringify(error)}\n            />\n          )}\n          <Header as=\"h1\" textAlign=\"center\">\n            Popular Items\n          </Header>\n          <Divider />\n          {/* <SearchFilter /> */}\n          {loading && ( // if loading then do smth after &&\n            <Segment>\n              <Dimmer active inverted>\n                <Loader inverted>Loading</Loader>\n              </Dimmer>\n\n              <Image src=\"https://react.semantic-ui.com/images/wireframe/short-paragraph.png\" />\n            </Segment>\n          )}\n\n          {/* <SearchFilterResults value={this.props.value} /> */}\n\n          {/*  */}\n          <Card.Group>\n            {data.map((item) => {\n              return (\n                <React.Fragment >\n                  <Card key={item.id} style={{ width: \"200px\", height: \"auto\" }}>\n                    <Image\n                      src={item.image}\n                      style={{\n                        width: \"200px\",\n                        height: \"237px\",\n                        backgroundPosition: \"center\",\n                        backgroundSize: \"cover\",\n                        backgroundRepeat: \"noRepeat\",\n                      }}\n                      wrapped\n                      ui={true}\n                      as=\"a\"\n                      onClick={() =>\n                        this.props.history.push(`/products/${item.slug}`)\n                      }\n                    />\n                    <Card.Content>\n                      <Item.Header\n                        as=\"a\"\n                        onClick={() =>\n                          this.props.history.push(`/products/${item.slug}`)\n                        }\n                      >\n                        {item.title}\n                      </Item.Header>\n                      <Card.Meta>\n                        {item.category} {\"  \"}\n                        {item.discount_price && ( // always show, not just when there is a discount\n                          <Label color=\"violet\">discount</Label>\n                        )}\n                      </Card.Meta>\n                      <Card.Description>Rating...</Card.Description>\n                    </Card.Content>\n                    <Card.Content extra>\n                      <React.Fragment>\n                        {item.discount_price && (\n                          <Header\n                            floated=\"left\"\n                            color=\"violet\"\n                            style={{ marginTop: \"10px\" }}\n                          >\n                            <small>\n                              <strike>\n                                <span>${item.price}</span>\n                              </strike>\n                            </small>{\" \"}\n                            ${item.discount_price}\n                          </Header>\n                        )}\n                        {!item.discount_price && (\n                          <Header\n                            color=\"black\"\n                            floated=\"left\"\n                            size=\"medium\"\n                            style={{ marginTop: \"7px\" }}\n                          >\n                            ${item.price}\n                          </Header>\n                        )}\n                        <Button\n                          animated=\"vertical\"\n                          color=\"black\"\n                          floated=\"right\"\n                          onClick={() => this.handleAddToCart(item.slug)}\n                        >\n                          <Button.Content hidden>Buy</Button.Content>\n                          <Button.Content visible>\n                            <Icon name=\"cart plus\" />\n                          </Button.Content>\n                        </Button>\n                      </React.Fragment>\n                    </Card.Content>\n                  </Card>\n                </React.Fragment>\n              );\n            })}\n          </Card.Group>\n        </Container>\n\n        {children}\n      </Media>\n    );\n  }\n}\n\nDesktopContainer.propTypes = {\n  children: PropTypes.node,\n};\n\nclass MobileContainer extends Component {\n  state = {};\n\n  handleSidebarHide = () => this.setState({ sidebarOpened: false });\n\n  handleToggle = () => this.setState({ sidebarOpened: true });\n\n  render() {\n    const { children } = this.props;\n    const { sidebarOpened } = this.state;\n\n    return (\n      <Media as={Sidebar.Pushable} at=\"mobile\">\n        <Segment\n          inverted\n          textAlign=\"center\"\n          style={{\n            minHeight: 700,\n            padding: \"1em 0em\",\n            width: \"100%\",\n            height: \"100%\",\n            backgroundImage: `url(${Background})`,\n            backgroundPosition: \"center\",\n            backgroundSize: \"cover\",\n            backgroundRepeat: \"noRepeat\",\n          }}\n          vertical\n        >\n          <HomepageHeading />\n        </Segment>\n\n        {children}\n      </Media>\n    );\n  }\n}\n\nMobileContainer.propTypes = {\n  children: PropTypes.node,\n};\n\nconst ResponsiveContainer = ({ children }) => (\n  /* Heads up!\n   * For large applications it may not be best option to put all page into these containers at\n   * they will be rendered twice for SSR.\n   */\n  <MediaContextProvider>\n    <DesktopContainer>{children}</DesktopContainer>\n    <MobileContainer>{children}</MobileContainer>\n  </MediaContextProvider>\n);\n\nResponsiveContainer.propTypes = {\n  children: PropTypes.node,\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    fetchCart: () => dispatch(fetchCart()),\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(DesktopContainer);\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport {\n  Button,\n  Card,\n  Container,\n  Dimmer,\n  Grid,\n  Icon,\n  Image,\n  Item,\n  Label,\n  Loader,\n  Message,\n  Segment,\n} from \"semantic-ui-react\";\nimport { productListURL, addToCartURL } from \"../constants\";\nimport { authAxios } from \"../utils\";\nimport { fetchCart } from \"../store/actions/cart\";\n\nclass ProductList extends Component {\n  state = {\n    loading: false,\n    error: null,\n    data: [],\n  };\n\n  async componentDidMount() {\n    this.setState({ loading: true });\n\n    this.props.fetchCart(); // update the cart count\n\n    const res = await axios\n      .get(productListURL)\n      .then((res) => {\n        console.log(res.data);\n        this.setState({ data: res.data, loading: false });\n      })\n      .catch((err) => {\n        this.setState({ error: err, loading: false });\n      });\n  }\n\n  handleAddToCart = (slug) => {\n    this.setState({ loading: true });\n\n    authAxios\n      .post(addToCartURL, { slug })\n      .then((res) => {\n        this.props.fetchCart(); // update the cart count\n\n        this.setState({ loading: false });\n      })\n      .catch((err) => {\n        this.setState({ error: err, loading: false });\n      });\n  };\n\n  render() {\n    const { error, loading } = this.state;\n\n    return (\n      <Container style={{marginTop: \"10px\", marginBottom: \"10px\"}}>\n        {error && ( // if error then do smth after &&\n          <Message\n            error\n            header=\"There was some errors with your submission\"\n            content={JSON.stringify(error)}\n          />\n        )}\n        {loading && ( // if loading then do smth after &&\n          <Segment>\n            <Dimmer active inverted>\n              <Loader inverted>Loading</Loader>\n            </Dimmer>\n\n            <Image src=\"https://react.semantic-ui.com/images/wireframe/short-paragraph.png\" />\n          </Segment>\n        )}\n        <div className=\"container\">\n          <h2 className=\"center\">Our items</h2>\n        </div>\n        <Grid doubling columns={5} style={{marginTop: \"10px\", marginBottom: \"10px\"}}>\n          {this.state.data.map((item) => {\n            return (\n              <Grid.Column key={item.id}>\n                <Card style={{width: '300px', height: '400px'}}>\n                  <Image \n                    src={item.image} \n                    style={{width: '300px', height: '250px'}}\n                    wrapped ui={true}\n                    as=\"a\"\n                    onClick={() =>\n                      this.props.history.push(`/products/${item.slug}`)\n                    } \n                  />\n                  <Card.Content>\n                    <Item.Header\n                      as=\"a\"\n                      onClick={() =>\n                        this.props.history.push(`/products/${item.slug}`)\n                      }\n                    >\n                      {item.title} {\"  \"}\n                      {item.discount_price && ( // always show, not just when there is a discount\n                        <Label\n                          color='violet'\n                        >\n                          discount\n                        </Label>\n                      )}\n                    </Item.Header>\n                    <Card.Meta>\n                      {item.category}\n                    </Card.Meta>\n                    <Card.Description>{item.description}</Card.Description>\n                  </Card.Content>\n                  <Card.Content extra>\n                    <React.Fragment>\n                      {item.discount_price && (\n                        <Button color='black' floated=\"left\"><small><strike>${item.price}</strike></small> ${item.discount_price}</Button>\n                      )}\n                      {!item.discount_price && (\n                        <small>${item.price}</small>\n                      )}\n                      <Button\n                        animated='vertical'\n                        color=\"black\"\n                        floated=\"right\"\n                        onClick={() => this.handleAddToCart(item.slug)}\n                      >\n                        <Button.Content hidden>Buy</Button.Content>\n                        <Button.Content visible>\n                          <Icon name=\"cart plus\" />\n                        </Button.Content>\n                      </Button>\n                    </React.Fragment>\n                  </Card.Content>\n                </Card>\n              </Grid.Column>\n            );\n          })}\n        </Grid>\n      </Container>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    fetchCart: () => dispatch(fetchCart()),\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(ProductList);\n","import React, { Component } from \"react\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\nimport {\n  Button,\n  Breadcrumb,\n  Card,\n  Container,\n  Dimmer,\n  Divider,\n  Grid,\n  Form,\n  Header,\n  Icon,\n  Image,\n  Label,\n  Loader,\n  Message,\n  Radio,\n  Segment,\n} from \"semantic-ui-react\";\nimport { localhost, productDetailURL, addToCartURL } from \"../constants\";\nimport { authAxios } from \"../utils\";\nimport { fetchCart } from \"../store/actions/cart\";\n\nclass ProductDetail extends Component {\n  state = {\n    loading: false,\n    error: null,\n    formVisible: false,\n    data: [],\n    formData: {},\n  };\n\n  componentDidMount() {\n    this.handleFetchItem();\n  }\n\n  handleToggleForm = () => {\n    const { formVisible } = this.state;\n    this.setState({\n      formVisible: !formVisible,\n    });\n  };\n\n  handleChangeColor = () => {\n    // for change color selected size button\n    const { black } = this.state;\n    this.setState({\n      black: !black,\n    });\n  };\n\n  handleFetchItem = () => {\n    const {\n      match: { params },\n    } = this.props;\n    this.setState({ loading: true });\n    this.props.fetchCart(); // update the cart count\n    axios\n      .get(productDetailURL(params.productSlug))\n      .then((res) => {\n        console.log(res.data);\n        this.setState({ data: res.data, loading: false });\n      })\n      .catch((err) => {\n        this.setState({ error: err, loading: false });\n      });\n  };\n\n  handleFormatData = (formData) => {\n    // convert {colour: 1, size: 2} to [1,2] - they're all variations\n    return Object.keys(formData).map((key) => {\n      return formData[key];\n    });\n  };\n\n  handleAddToCart = (slug) => {\n    this.setState({ loading: true });\n    const { formData } = this.state;\n    const variations = this.handleFormatData(formData);\n\n    console.log(variations);\n\n    authAxios\n      .post(addToCartURL, { slug, variations })\n      .then((res) => {\n        this.props.fetchCart(); // update the cart count\n\n        this.setState({ loading: false });\n      })\n      .catch((err) => {\n        this.setState({ error: err, loading: false });\n      });\n  };\n\n  handleChange = (e, { name, value }) => {\n    // функція вже готова для приймання різних типів одягу (розмір, колір і т.д.). Лишилось реалізувати підтримку інштх типів в моделях Django і допилити у формі відображення\n    this.setState({ value });\n    const { formData } = this.state;\n    const updatedFormData = {\n      ...formData,\n      [name]: value,\n    };\n    this.setState({ formData: updatedFormData });\n  };\n\n  render() {\n    const { data, error, loading, formData, value } = this.state;\n    const item = data;\n\n    const BreadcrumbExampleSection = () => (\n      <Breadcrumb>\n        <Breadcrumb.Section link>\n          <Link to=\"/\">Home</Link>\n        </Breadcrumb.Section>\n        <Breadcrumb.Divider icon=\"right chevron\" />\n        {item.category_type === \"M\" ? (\n          <Breadcrumb.Section link>\n            <Link to={\"/men\"}>Men's</Link>\n          </Breadcrumb.Section>\n        ) : (\n          <Breadcrumb.Section link>\n            <Link to={\"/women\"}>Women's</Link>\n          </Breadcrumb.Section>\n        )}\n        <Breadcrumb.Divider icon=\"right chevron\" />\n        <Breadcrumb.Section link>\n          <Link to={`/${item.category_type}/${item.category}`.toLowerCase()}>{item.category}</Link>\n        </Breadcrumb.Section>\n        <Breadcrumb.Divider icon=\"right chevron\" />\n        <Breadcrumb.Section active>{item.title}</Breadcrumb.Section>\n      </Breadcrumb>\n    );\n\n    return (\n      <Container style={{ marginTop: \"50px\" }}>\n        <BreadcrumbExampleSection />\n        {error && ( // if error then do smth after &&\n          <Message\n            error\n            header=\"There was some errors with your submission\"\n            content={JSON.stringify(error)}\n          />\n        )}\n        {loading && ( // if loading then do smth after &&\n          <Segment>\n            <Dimmer active inverted>\n              <Loader inverted>Loading</Loader>\n            </Dimmer>\n\n            <Image src=\"https://react.semantic-ui.com/images/wireframe/short-paragraph.png\" />\n          </Segment>\n        )}\n        <Grid\n          columns={2}\n          divided\n          style={{ marginTop: \"5px\", marginBottom: \"10px\" }}\n        >\n          <Grid.Row>\n            <Grid.Column>\n              <Card fluid>\n                <Card.Content>\n                  <Header textAlign=\"center\" as=\"h1\">\n                    {item.title}\n                  </Header>\n                  <Image src={item.image} wrapped ui={true} />\n                  <Card.Meta>\n                    <React.Fragment>\n                      {item.category}\n                      {item.discount_price && ( // always show, not just when there is a discount\n                        <Label\n                          color={\n                            item.label === \"primary\"\n                              ? \"blue\"\n                              : item.label === \"secondary\"\n                              ? \"green\"\n                              : \"olive\"\n                          }\n                        >\n                          {item.label}\n                        </Label>\n                      )}\n                    </React.Fragment>\n                  </Card.Meta>\n                  <br />\n                  <Card.Description>\n                    <Header as=\"b\" textAlign=\"center\">\n                      Select Size:\n                    </Header>\n                    <br />\n                    <br />\n                    {item.size && ( // shows availiable sizes\n                      <Form onSubmit={() => this.handleAddToCart(item.slug)}>\n                        <Form.Group required inline>\n                          {item.size.map((s) => {\n                            return (\n                              <Form.Field\n                                key={s.id}\n                                control={Radio}\n                                label={s.size}\n                                name={s.name}\n                                value={s.id}\n                                checked={value === s.id}\n                                onChange={this.handleChange}\n                              />\n                            );\n                          })}\n                        </Form.Group>\n                        <Divider />\n                        <React.Fragment>\n                          {item.discount_price && (\n                            <Button color=\"black\" floated=\"left\">\n                              <small>\n                                <strike>${item.price}</strike>\n                              </small>{\" \"}\n                              ${item.discount_price}\n                            </Button>\n                          )}\n                          {!item.discount_price && (\n                            <Label basic color=\"black\" floated=\"left\" size=\"big\">\n                              ${item.price}\n                            </Label>\n                          )}\n                          <Button\n                            animated=\"vertical\"\n                            color=\"black\"\n                            floated=\"right\"\n                            type=\"submit\"\n                          >\n                            <Button.Content hidden>\n                              <Icon name=\"cart plus\" />\n                            </Button.Content>\n                            <Button.Content type=\"submit\" visible>\n                              Add to cart\n                            </Button.Content>\n                          </Button>\n                        </React.Fragment>\n                      </Form>\n                    )}\n                  </Card.Description>\n                </Card.Content>\n                <Divider />\n              </Card>\n            </Grid.Column>\n            <Grid.Column>\n              <Header as=\"h3\">Description</Header>\n              <p>\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris\n                pulvinar auctor urna vitae tincidunt. Nam ut vestibulum dolor,\n                sit amet lobortis orci. Curabitur sollicitudin nisl sed feugiat\n                vulputate. Vivamus eu vehicula leo, eleifend porta nunc. Sed nec\n                turpis sit amet purus tincidunt bibendum vel vel ligula. Nulla\n                consequat eu neque ac consequat. In tristique condimentum erat.\n                Duis eu sapien viverra, finibus ex sed, egestas libero.\n              </p>\n              <p>\n                Nullam lorem nisi, fringilla ac rhoncus viverra, accumsan eget\n                tellus. Praesent elementum purus eget est molestie hendrerit.\n                Aenean ac scelerisque nibh. Donec lobortis eros in ante\n                condimentum euismod et eu metus. Proin consectetur id odio ut\n                blandit. Cras vestibulum sagittis sapien non lobortis. Fusce\n                rutrum nulla est, vel scelerisque purus bibendum vel. Vestibulum\n                a odio finibus, tempor massa id, accumsan libero. Ut venenatis\n                vel lorem ut fermentum. Aenean aliquam dolor pellentesque,\n                pretium magna at, luctus velit. Pellentesque id consequat justo.\n                Sed nec ligula in libero ultricies bibendum quis sit amet\n                libero.\n              </p>\n              {/* {data.variations &&\n                data.variations.map((v) => {\n                  return (\n                    <React.Fragment key={v.id}>\n                      <Header as=\"h3\">{v.name}</Header>\n                      <Item.Group divided>\n                        {v.item_variations.map((iv) => {\n                          return (\n                            <Item key={iv.id}>\n                              {iv.attachment && (\n                                <Item.Image\n                                  size=\"tiny\"\n                                  src={`${localhost}${iv.attachment}`}\n                                />\n                              )}\n                              <Item.Content verticalAlign=\"middle\">\n                                {iv.value}\n                              </Item.Content>\n                            </Item>\n                          );\n                        })}\n                      </Item.Group>\n                    </React.Fragment>\n                  );\n                })} */}\n            </Grid.Column>\n          </Grid.Row>\n        </Grid>\n      </Container>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    fetchCart: () => dispatch(fetchCart()),\n  };\n};\n\nexport default withRouter(connect(null, mapDispatchToProps)(ProductDetail));\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  Button,\n  Container,\n  Dimmer,\n  Header,\n  Icon,\n  Image,\n  Label,\n  Loader,\n  Message,\n  Segment,\n  Table,\n} from \"semantic-ui-react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { authAxios } from \"../utils\";\nimport {\n  addToCartURL,\n  orderSummaryURL,\n  orderItemDeleteURL,\n  orderItemUpdateQuantityURL,\n} from \"../constants\";\n\nclass OrderSummary extends React.Component {\n  state = {\n    data: null,\n    error: null,\n    loading: false,\n  };\n\n  componentDidMount() {\n    this.handleFetchOrder();\n  }\n\n  handleFetchOrder = () => {\n    this.setState({ loading: true });\n    authAxios\n      .get(orderSummaryURL)\n      .then((res) => {\n        this.setState({ data: res.data, loading: false });\n      })\n      .catch((err) => {\n        if (err.response.status === 404) {\n          this.setState({\n            error: \"You currently do not have an order\",\n            loading: false,\n          });\n        } else {\n          this.setState({ error: err, loading: false });\n        }\n      });\n  };\n\n  renderVariations = (orderItem) => {\n    let text = \"\";\n    orderItem.size.forEach((iv) => {\n      text += `${iv.name}: ${iv.size}, `;\n    });\n    return text;\n  };\n\n  handleFormatData = (size) => {\n    // парситься size, тому що поки що в моделі реалізовано тільки розмір. Колір можна додати в майбутньому\n    // convert [{id: 1}, {id: 2}] to [1,2] - they're all variations\n    return Object.keys(size).map((key) => {\n      return size[key].id;\n    });\n  };\n\n  handleAddToCart = (slug, size) => {\n    // парситься size, тому що поки що в моделі реалізовано тільки розмір. Колір можна додати в майбутньому\n    this.setState({ loading: true });\n    const variations = this.handleFormatData(size);\n\n    authAxios\n      .post(addToCartURL, { slug, variations })\n      .then((res) => {\n        this.handleFetchOrder(); // update the cart count\n\n        this.setState({ loading: false });\n      })\n      .catch((err) => {\n        this.setState({ error: err, loading: false });\n      });\n  };\n\n  handleRemoveQuantityFromCart = (slug) => {\n    authAxios\n      .post(orderItemUpdateQuantityURL, { slug })\n      .then((res) => {\n        // callback\n        this.handleFetchOrder();\n      })\n      .catch((err) => {\n        this.setState({ error: err });\n      });\n    \n  };\n\n  handleRemoveItem = (id) => {\n    authAxios\n      .delete(orderItemDeleteURL(id))\n      .then((res) => {\n        // callback\n        this.handleFetchOrder();\n      })\n      .catch((err) => {\n        this.setState({ error: err });\n      });\n  };\n\n  render() {\n    const { data, error, loading } = this.state;\n    console.log(data);\n\n    const { isAuthenticated } = this.props;\n    if (!isAuthenticated) {\n      return <Redirect to=\"/login\" />;\n    }\n\n    return (\n      <Container style={{ marginTop: \"10px\", marginBottom: \"10px\" }}>\n        <Header>Order Summary</Header>\n        {error && (\n          <Message\n            error\n            header=\"There was an error\"\n            content={JSON.stringify(error)}\n          />\n        )}\n        {loading && (\n          <Segment>\n            <Dimmer active inverted>\n              <Loader inverted>Loading</Loader>\n            </Dimmer>\n\n            <Image src=\"https://react.semantic-ui.com/images/wireframe/short-paragraph.png\" />\n          </Segment>\n        )}\n        {data && (\n          <Table celled>\n            <Table.Header>\n              <Table.Row>\n                <Table.HeaderCell>Item №</Table.HeaderCell>\n                <Table.HeaderCell>Item name</Table.HeaderCell>\n                <Table.HeaderCell>Item price</Table.HeaderCell>\n                <Table.HeaderCell>Item quantity</Table.HeaderCell>\n                <Table.HeaderCell>Total item price</Table.HeaderCell>\n              </Table.Row>\n            </Table.Header>\n\n            <Table.Body>\n              {data.order_items.map((orderItem, i) => {\n                i += 1;\n                return (\n                  <Table.Row key={orderItem.id}>\n                    <React.Fragment>\n                      <Table.Cell>{i}</Table.Cell>\n                      <Table.Cell>\n                        {orderItem.item.title} -{\" \"}\n                        {this.renderVariations(orderItem)}\n                      </Table.Cell>\n                      <Table.Cell>${orderItem.item.price}</Table.Cell>\n                      <Table.Cell textAlign=\"center\">\n                        <Icon\n                          name=\"minus\"\n                          style={{ float: \"left\", cursor: \"pointer\" }}\n                          onClick={() =>\n                            this.handleRemoveQuantityFromCart(orderItem.item.slug)\n                          }\n                        />\n                        {orderItem.quantity}\n                        <Icon\n                          name=\"plus\"\n                          style={{ float: \"right\", cursor: \"pointer\" }}\n                          onClick={() =>\n                            this.handleAddToCart(\n                              orderItem.item.slug,\n                              orderItem.size\n                            )\n                          }\n                        />\n                      </Table.Cell>\n                      <Table.Cell>\n                        {orderItem.item.discount_price && (\n                          <Label color=\"green\" ribbon>\n                            ON DISCOUNT\n                          </Label>\n                        )}\n                        ${orderItem.final_price}\n                        <Icon\n                          name=\"trash\"\n                          color=\"red\"\n                          style={{ float: \"right\", cursor: \"pointer\" }}\n                          onClick={() => this.handleRemoveItem(orderItem.id)}\n                        />\n                      </Table.Cell>\n                    </React.Fragment>\n                  </Table.Row>\n                );\n              })}\n              <Table.Row>\n                <Table.Cell />\n                <Table.Cell />\n                <Table.Cell />\n                <Table.Cell colSpan=\"2\" textAlign=\"center\">\n                  Total: ${data.total}\n                </Table.Cell>\n              </Table.Row>\n            </Table.Body>\n\n            <Table.Footer>\n              <Table.Row>\n                <Table.HeaderCell colSpan=\"5\" textAlign=\"right\">\n                  <Link to=\"/checkout\">\n                    <Button floated=\"right\" color=\"yellow\">\n                      Checkout\n                    </Button>\n                  </Link>\n                </Table.HeaderCell>\n              </Table.Row>\n            </Table.Footer>\n          </Table>\n        )}\n      </Container>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    isAuthenticated: state.auth.token !== null,\n  };\n};\n\nexport default connect(mapStateToProps)(OrderSummary);\n","import React, { Component } from \"react\"\n// import {withRouter, Redirect } from 'react-router-dom'\nimport {\n  Button,\n  Container,\n  Divider,\n  Dimmer,\n  Form,\n  Header,\n  Image,\n  Item,\n  Label,\n  Loader,\n  Message,\n  Segment,\n} from \"semantic-ui-react\"\nimport { checkoutURL, orderSummaryURL, addCouponURL } from \"../constants\"\nimport { localhost } from \"../constants\"\nimport { authAxios } from \"../utils\"\n\nimport { Elements, CardElement } from \"@stripe/react-stripe-js\"\nimport { loadStripe } from \"@stripe/stripe-js\"\n// import { injectStripe } from \"react-stripe-elements\"\n\n// Custom styling can be passed to options when creating an Element.\nconst CARD_ELEMENT_OPTIONS = {\n  style: {\n    base: {\n      color: \"#32325d\",\n      fontFamily: '\"Helvetica Neue\", Helvetica, sans-serif',\n      fontSmoothing: \"antialiased\",\n      fontSize: \"16px\",\n      \"::placeholder\": {\n        color: \"#aab7c4\",\n      },\n    },\n    invalid: {\n      color: \"#fa755a\",\n      iconColor: \"#fa755a\",\n    },\n  },\n};\n\nfunction CardSection() {\n  return (\n    <label>\n      Card details\n      <CardElement options={CARD_ELEMENT_OPTIONS} />\n    </label>\n  );\n}\n\nconst OrderPreview = (props) => {\n    const { data } = props;\n    return (\n      <React.Fragment>\n        {data && (\n          <React.Fragment>\n            <Item.Group relaxed>\n              {data.order_items.map((orderItem, i) => {\n                console.log(orderItem);\n                i += 1;\n                return (\n                  <Item key={orderItem.id}>\n                    <Item.Image\n                      size=\"tiny\"\n                      src={`${localhost}${orderItem.item.image}`}\n                    />\n\n                    <Item.Content verticalAlign=\"middle\">\n                      <Item.Header as=\"a\">\n                        {orderItem.quantity} x {orderItem.item.title}\n                      </Item.Header>\n                      <Item.Extra>\n                        <Label>${orderItem.final_price}</Label>\n                      </Item.Extra>\n                    </Item.Content>\n                  </Item>\n                );\n              })}\n\n              <Item.Group>\n                <Item>\n                  <Item.Content>\n                    <Item.Header>Order Total: ${data.total}\n                      {data.coupon && (\n                        <Label color='green' style={{marginLeft: \"10px\"}}>\n                          Current coupon: {data.coupon.code} for ${data.coupon.amount}\n                        </Label> \n                      )}\n                    </Item.Header>\n                  </Item.Content>\n                </Item>\n              </Item.Group>\n            </Item.Group>\n          </React.Fragment>\n        )}\n      </React.Fragment>\n    );\n}\n\nclass CouponForm extends Component {\n  state = {\n    code: '',\n  };\n\n  handleChange = e => {\n    this.setState({ code: e.target.value });\n  }\n\n  handleSubmit = e => {\n    const { code } = this.state;\n    this.props.handleAddCoupon(e, code);\n    this.setState({ code: \"\" });\n  }\n\n  render() {\n    const { code } = this.state;\n    return (\n      <React.Fragment>\n        <Form onSubmit={this.handleSubmit}>\n          <Form.Field>\n            <label>Coupon code</label>\n            <input placeholder=\"Enter a coupon..\" \n                   value={code} \n                   onChange={this.handleChange}\n            />\n          </Form.Field>\n          <Button type=\"submit\">Submit</Button>\n        </Form>\n      </React.Fragment>\n    );\n  }\n}\n\nclass CheckoutForm extends Component {\n  state = {\n    data: null,\n    loading: false,\n    error: null,\n    success: false,\n  };\n\n  componentDidMount() {\n    this.handleFetchOrder();\n  }\n\n  handleFetchOrder = () => {\n    this.setState({ loading: true });\n    authAxios\n      .get(orderSummaryURL)\n      .then((res) => {\n        console.log(res.data);\n        this.setState({ data: res.data, loading: false });\n      })\n      .catch((err) => {\n        if (err.response.status === 404) {\n          this.setState({\n            error: \"You currently do not have an order\",\n            loading: false,\n          });\n        } else {\n          this.setState({ error: err, loading: false });\n        }\n      });\n  };\n\n  handleAddCoupon = (e, code) => {\n    e.preventDefault();\n    this.setState({ loading: true });\n    authAxios\n      .post(addCouponURL, { code })\n      .then(res => {\n        this.setState({ loading: false });\n        this.handleFetchOrder();         // refreching price after submit a right coupon\n      })\n      .catch(err => {\n        this.setState({ error: err, loading: false });\n      });\n  };\n\n  submit = (event) => {\n    // Block native form submission.\n    event.preventDefault();\n    this.setState({ loading: true });\n\n    if (this.props.stripe) {               // need to fix stripe\n    this.props.stripe.createToken().then((result) => {\n      if (result.error) {\n        this.setState({ error: result.error.message, loading: false });\n      } else {\n        this.setState({ error: null });\n        authAxios\n          .post(checkoutURL, { stripeToken: result.token.id })\n          .then((res) => {\n            this.setState({ loading: false, success: true });\n          })\n          .catch((err) => {\n            this.setState({ loading: false, error: err });\n          });\n      }\n    });\n    } else {                              //\n    console.log(\"Stripe is not loaded\");  //\n    }                                     //\n  };\n\n  render() {\n    const { data, error, loading, success } = this.state;\n\n    return (\n      <React.Fragment>\n        <Form onSubmit={this.handleSubmit}>\n          <div className=\"form-row\">\n            {error && (\n              <Message\n                error\n                header=\"There was an error\"\n                content={JSON.stringify(error)}\n              />\n            )}\n            {loading && (\n              <Segment>\n                <Dimmer active inverted>\n                  <Loader inverted>Loading</Loader>\n                </Dimmer>\n\n                <Image src=\"https://react.semantic-ui.com/images/wireframe/short-paragraph.png\" />\n              </Segment>\n            )}\n            {success && (\n              <Message positive>\n                <Message.Header>Your payment was successfull</Message.Header>\n                <p>\n                  Go to your <b>profile</b> to see the delivery status.\n                </p>\n              </Message>\n            )}\n\n            <OrderPreview data={data} />\n            <Divider />\n            <CouponForm handleAddCoupon={(e, code) => this.handleAddCoupon(e, code)}/>\n            <Divider />\n            \n\n            <Header htmlFor=\"card-element\">\n              Would You like to complete the purchase?\n            </Header>\n            <CardSection />\n            <Button\n              primary\n              onClick={this.submit}\n              // type=\"submit\"\n              loading={loading}\n              disabled={loading} // cant submit twise !\n              // disabled={!this.props.stripe}\n\n              style={{ marginTop: \"10px\" }}\n            >\n              Submit\n            </Button>\n          </div>\n        </Form>\n        <Divider />\n        \n      </React.Fragment>\n    );\n  }\n}\n\nconst stripePromise = loadStripe(\n  \"pk_test_51H1x1XK0Ldnw408vCnlxLh9TE6mVqne7mdVIEVNEjNwjq7DQykAoahTgxxKxewywBRtFR5LzWuVf144nmfNJnEGL00ERtZWTKx\"\n);\n// const stripeApi = 'pk_test_51H1x1XK0Ldnw408vCnlxLh9TE6mVqne7mdVIEVNEjNwjq7DQykAoahTgxxKxewywBRtFR5LzWuVf144nmfNJnEGL00ERtZWTKx'\n\n// const InjectedForm = withRouter(injectStripe(CheckoutForm));\n\nconst Checkout = () => (\n  <Container text>\n    <div>\n      <h1>Complete your order</h1>\n      <Elements stripe={stripePromise}>\n        <CheckoutForm />\n        <Divider />      \n      </Elements>\n    </div>\n  </Container>\n);\n\nexport default Checkout;\n","import React, { Component } from \"react\"\nimport {\n  Divider,\n  Grid,\n  Header,\n  Menu,\n} from \"semantic-ui-react\"\n\n\nclass Profile extends Component {\n  state = { activeItem: \"billing address\" };\n\n  handleItemClick = (e, { name }) => this.setState({ activeItem: name });\n\n  render() {\n    const { activeItem } = this.state;\n\n    return (\n      <React.Fragment>\n        <Grid container columns={2} divided>\n          <Grid.Row>\n            <Grid.Column width={6}>\n              <Menu vertical>\n                <Menu.Item\n                  name=\"billing address\"\n                  active={activeItem === \"billing address\"}\n                  onClick={this.handleItemClick}\n                />\n                <Menu.Item\n                  name=\"marked items\"\n                  active={activeItem === \"marked items\"}\n                  onClick={this.handleItemClick}\n                />\n                <Menu.Item\n                  name=\"shipping history\"\n                  active={activeItem === \"shipping history\"}\n                  onClick={this.handleItemClick}\n                />\n              </Menu>\n            </Grid.Column>\n            <Grid.Column width={10}>\n              <Header>Profile</Header>\n              <Divider />\n              {activeItem === \"billing address\" ? (\n                <p>billing address form</p>\n              ) : activeItem === \"marked items\" ? (\n                <p>marked items</p>\n              ) : (\n                <p>shipping history</p>\n              )}\n            </Grid.Column>\n          </Grid.Row>\n        </Grid>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Profile;","import React, {\n  Component,\n  useReducer,\n  useCallback,\n  useEffect,\n  useState,\n} from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport _ from \"lodash\";\nimport {\n  Button,\n  Card,\n  Container,\n  Grid,\n  Header,\n  Image,\n  Icon,\n  Item,\n  Label,\n  Search,\n} from \"semantic-ui-react\";\nimport { productListURL } from \"../constants\";\nimport FilterResults from \"react-filter-search\";\n\nconst initialState = {\n  data: [],\n  isLoading: false,\n  error: null,\n  results: [],\n  value: \"\",\n  searchValue: \"\",\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"CLEAN_QUERY\":\n      return initialState;\n    case \"START_SEARCH\":\n      return { ...state, loading: true, value: action.query };\n    case \"FINISH_SEARCH\":\n      return {\n        ...state,\n        loading: false,\n        results: action.results,\n        // searchValue: action.results,\n      };\n    case \"UPDATE_SELECTION\":\n      return { ...state, value: action.selection };\n\n    default:\n      throw new Error();\n  }\n}\n\nexport function SearchBar(props) {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const [list, setList] = useState(null);\n  const { loading, results, value } = state;\n  const history = useHistory();\n\n  const timeoutRef = React.useRef();\n\n  const handlePressEnter = (e) => {\n    if (e.keyCode === 13) {\n      history.push({\n        pathname: `/search/${e.target.value}`,\n        // state: { searchValue: e.target.value },\n        // access to state - this.props.location.state.*******\n      });\n    }\n  };\n\n  const handleResultSelect = (e, { result }) => {\n    history.push(`/products/${result.slug}`);\n  };\n\n  const handleSearchChange = useCallback((e, data) => {\n    clearTimeout(timeoutRef.current);\n    dispatch({ type: \"START_SEARCH\", query: data.value });\n\n    timeoutRef.current = setTimeout(() => {\n      if (data.value.length === 0) {\n        dispatch({ type: \"CLEAN_QUERY\" });\n        return;\n      }\n\n      axios\n        .get(productListURL)\n        .then(function (list) {\n          setList(\n            (list = Object.keys(list.data).map((key) => {\n              // перетворення для source у вигляд масиву списків, щоб могло нормально відображати результат пошуку [{…}, {…}, {…}]\n              return {\n                title: list.data[key].title,\n                description: list.data[key].description,\n                price: \"$\" + list.data[key].price,\n                id: list.data[key].id,\n                image: list.data[key].image,\n                slug: list.data[key].slug,\n              };\n            }))\n          );\n\n          const source = list;\n\n          console.log(\"source\", source);\n\n          const re = new RegExp(_.escapeRegExp(data.value), \"i\");\n          const isMatch = (result) => re.test(result.title);\n\n          dispatch({\n            type: \"FINISH_SEARCH\",\n            results: _.filter(source, isMatch),\n            searchValue: data.value,\n          });\n        })\n        .catch(function (error) {\n          console.log(\"error\", error);\n        });\n    }, 300);\n  }, []);\n\n  useEffect(() => {\n    return () => {\n      clearTimeout(timeoutRef.current);\n    };\n  }, []);\n\n  return (\n    <Grid.Column width=\"7\">\n      <Search\n        loading={loading}\n        input={{ fluid: true }}\n        onKeyDown={handlePressEnter}\n        onResultSelect={handleResultSelect}\n        onSearchChange={handleSearchChange}\n        results={results}\n        value={value}\n        size=\"small\"\n        placeholder=\"Search what do you want...\"\n        fluid\n        style={{\n          name: \"search\",\n          circular: true,\n          link: true,\n          marginTop: \"4px\",\n          minWidth: \"500px\",\n        }}\n      />\n    </Grid.Column>\n  );\n}\n\nclass SearchResult extends Component {\n  state = {\n    data: [],\n    searchValue: \"\",\n  };\n\n  async componentDidMount() {\n    this.setState({ loading: true });\n\n    const res = await axios\n      .get(productListURL)\n      .then((res) => {\n        console.log(res.data);\n        this.setState({ data: res.data, loading: false });\n      })\n      .catch((err) => {\n        this.setState({ error: err, loading: false });\n      });\n\n  }\n\n  render() {\n    return (\n      <Container style={{ marginTop: \"70px\" }}>\n        <Header as=\"h2\">\n          Search result of \"{this.props.match.params.searchRequest}\"\n        </Header>\n\n        {/* <SearchFilterResults searchValue={this.state.searchValue} /> */}\n        <SearchFilterResults\n          searchValue={this.props.match.params.searchRequest}\n        />\n      </Container>\n    );\n  }\n}\n\nexport class SearchFilterResults extends Component {\n  state = {\n    data: [],\n  };\n\n  async componentDidMount() {\n    this.setState({ loading: true });\n\n    // this.props.fetchCart(); // update the cart count\n\n    const res = await axios\n      .get(productListURL)\n      .then((res) => {\n        console.log(res.data);\n        this.setState({ data: res.data, loading: false });\n      })\n      .catch((err) => {\n        this.setState({ error: err, loading: false });\n      });\n  }\n\n  render() {\n    const { data } = this.state;\n    return (\n      <FilterResults\n        value={this.props.searchValue}\n        data={data}\n        renderResults={(results) => (\n          <Grid\n            doubling\n            columns={5}\n            style={{ marginTop: \"10px\", marginBottom: \"10px\" }}\n          >\n            {results.map((item) => {\n              return (\n                <Grid.Column key={item.id}>\n                  <Card style={{ width: \"300px\", height: \"420px\" }}>\n                    <Image\n                      src={item.image}\n                      style={{\n                        width: \"220px\",\n                        height: \"257px\",\n                        backgroundPosition: \"center\",\n                        backgroundSize: \"cover\",\n                        backgroundRepeat: \"noRepeat\",\n                      }}\n                      wrapped\n                      ui={true}\n                      as=\"a\"\n                      onClick={() =>\n                        this.props.history.push(`/products/${item.slug}`)\n                      }\n                    />\n                    <Card.Content>\n                      <Item.Header\n                        as=\"a\"\n                        onClick={() =>\n                          this.props.history.push(`/products/${item.slug}`)\n                        }\n                      >\n                        {item.title}\n                      </Item.Header>\n                      <Card.Meta>\n                        {item.category} {\"  \"}\n                        {item.discount_price && ( // always show, not just when there is a discount\n                          <Label color=\"violet\">discount</Label>\n                        )}\n                      </Card.Meta>\n                      <Card.Description>Rating...</Card.Description>\n                    </Card.Content>\n                    <Card.Content extra>\n                      <React.Fragment>\n                        {item.discount_price && (\n                          <Header\n                            floated=\"left\"\n                            color=\"violet\"\n                            style={{ marginTop: \"10px\" }}\n                          >\n                            <small>\n                              <strike>\n                                <span>${item.price}</span>\n                              </strike>\n                            </small>{\" \"}\n                            ${item.discount_price}\n                          </Header>\n                        )}\n                        {!item.discount_price && (\n                          <Header\n                            color=\"black\"\n                            floated=\"left\"\n                            size=\"medium\"\n                            style={{ marginTop: \"7px\" }}\n                          >\n                            ${item.price}\n                          </Header>\n                        )}\n                        <Button\n                          animated=\"vertical\"\n                          color=\"black\"\n                          floated=\"right\"\n                          onClick={() => this.handleAddToCart(item.slug)}\n                        >\n                          <Button.Content hidden>Buy</Button.Content>\n                          <Button.Content visible>\n                            <Icon name=\"cart plus\" />\n                          </Button.Content>\n                        </Button>\n                      </React.Fragment>\n                    </Card.Content>\n                  </Card>\n                </Grid.Column>\n              );\n            })}\n          </Grid>\n        )}\n      />\n    );\n  }\n}\n\nexport default SearchResult;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport {\n  Button,\n  Card,\n  Container,\n  Divider,\n  Grid,\n  Header,\n  Image,\n  Icon,\n  Item,\n  Label,\n  Loader,\n  Menu,\n  Segment,\n} from \"semantic-ui-react\";\nimport { SearchFilterResults } from \"./SearchResult\";\nimport { productListURL } from \"../constants\";\n\nexport class Categories extends Component {\n  state = {\n    data: [],\n  };\n\n  handleItemClick = (e, { name }) => {\n    this.setState({ activeItem: name });\n\n    this.props.history.push(`/${name}`.toLowerCase());\n  };\n\n  render() {\n    const { activeItem } = this.state;\n\n    return (\n      <Menu vertical size=\"massive\" style={{ marginTop: \"60px\" }}>\n        <Menu.Item>\n          <Header as=\"h2\">Catalog</Header>\n          <Menu.Header>Men's clothes</Menu.Header>\n\n          <Menu.Menu>\n            {this.props.data.map(\n              (item) =>\n                item.category_type === \"Men\" && (\n                  <Menu.Item\n                    key={item.id}\n                    name={item.category}\n                    active={activeItem === item.title}\n                    onClick={this.handleItemClick}\n                  />\n                )\n            )}\n          </Menu.Menu>\n        </Menu.Item>\n\n        <Menu.Item>\n          <Menu.Header>Women's clothes</Menu.Header>\n\n          <Menu.Menu>\n            {this.props.data.map(\n              (item) =>\n                item.category_type === \"Women\" && (\n                  <Menu.Item\n                    key={item.id}\n                    name={item.category}\n                    active={activeItem === item.title}\n                    onClick={this.handleItemClick}\n                  />\n                )\n            )}\n          </Menu.Menu>\n        </Menu.Item>\n      </Menu>\n    );\n  }\n}\n\nexport default class CategorieChoose extends Component {\n  state = {\n    data: [],\n    categoryChoose: \"\",\n  };\n\n  async componentDidMount() {\n    this.setState({ loading: true });\n\n    // this.props.fetchCart(); // update the cart count\n\n    const res = await axios\n      .get(productListURL)\n      .then((res) => {\n        this.setState({ data: res.data });\n      })\n      .catch((err) => {\n        this.setState({ error: err });\n      });\n  }\n\n  render() {\n    const { data } = this.state;\n    const categoryChoose = this.props.match.params.categoryChoose;\n    return (\n      <React.Fragment>\n        {/* categoryChoose={this.props.location.state.searchValue} */}\n        <Container>\n          <Header style={{ marginTop: \"50px\", marginBottom: \"10px\" }}>\n            {categoryChoose}\n          </Header>\n          <Divider />\n        </Container>\n        <Container>\n          <Card.Group>\n            {data.map((item) => {\n              return (\n                <React.Fragment >\n                  <Card key={item.id} style={{ width: \"220px\", height: \"auto\" }}>\n                    <Image\n                      src={item.image}\n                      style={{\n                        width: \"220px\",\n                        height: \"257px\",\n                        backgroundPosition: \"center\",\n                        backgroundSize: \"cover\",\n                        backgroundRepeat: \"noRepeat\",\n                      }}\n                      wrapped\n                      ui={true}\n                      as=\"a\"\n                      onClick={() =>\n                        this.props.history.push(`/products/${item.slug}`)\n                      }\n                    />\n                    <Card.Content>\n                      <Item.Header\n                        as=\"a\"\n                        onClick={() =>\n                          this.props.history.push(`/products/${item.slug}`)\n                        }\n                      >\n                        {item.title}\n                      </Item.Header>\n                      <Card.Meta>\n                        {item.category} {\"  \"}\n                        {item.discount_price && ( // always show, not just when there is a discount\n                          <Label color=\"violet\">discount</Label>\n                        )}\n                      </Card.Meta>\n                      <Card.Description>Rating...</Card.Description>\n                    </Card.Content>\n                    <Card.Content extra>\n                      <React.Fragment>\n                        {item.discount_price && (\n                          <Header\n                            floated=\"left\"\n                            color=\"violet\"\n                            style={{ marginTop: \"10px\" }}\n                          >\n                            <small>\n                              <strike>\n                                <span>${item.price}</span>\n                              </strike>\n                            </small>{\" \"}\n                            ${item.discount_price}\n                          </Header>\n                        )}\n                        {!item.discount_price && (\n                          <Header\n                            color=\"black\"\n                            floated=\"left\"\n                            size=\"medium\"\n                            style={{ marginTop: \"7px\" }}\n                          >\n                            ${item.price}\n                          </Header>\n                        )}\n                        <Button\n                          animated=\"vertical\"\n                          color=\"black\"\n                          floated=\"right\"\n                          onClick={() => this.handleAddToCart(item.slug)}\n                        >\n                          <Button.Content hidden>Buy</Button.Content>\n                          <Button.Content visible>\n                            <Icon name=\"cart plus\" />\n                          </Button.Content>\n                        </Button>\n                      </React.Fragment>\n                    </Card.Content>\n                  </Card>\n                </React.Fragment>\n              );\n            })}\n          </Card.Group>\n        </Container>\n      </React.Fragment>\n    );\n  }\n}\n","import React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport Hoc from \"./hoc/hoc\";\n\nimport Login from \"./components/Login\";\nimport Signup from \"./components/Signup\";\nimport HomepageLayout from \"./components/Home\";\nimport ProductList from \"./components/ProductList\";\nimport ProductDetail from \"./components/ProductDetail\";\nimport OrderSummary from \"./components/OrderSummary\";\nimport Checkout from \"./components/Checkout\";\nimport Profile from \"./components/Profile\";\nimport SearchResult from \"./components/SearchResult\";\nimport CategorieChoose from \"./components/Categories\";\nimport { PageNotFound } from \"./components/PageNotFound\";\n\nconst categories = [\n  \"jackets\",\n  \"coats\",\n  \"shirts\",\n  \"t-shirts\",\n  \"sport\",\n  \"shoes\",\n  \"hats\",\n  \"outwear\",\n];\n\nconst BaseRouter = () => (\n  <Hoc>\n    <Route path=\"/\" exact={true} component={HomepageLayout} />\n    <Route path=\"/products/:productSlug\" component={ProductDetail} />\n\n    <Route path=\"/search/:searchRequest\" component={SearchResult} />\n    <Route path=\"/login\" component={Login} />\n    <Route path=\"/signup\" component={Signup} />\n    <Route path=\"/profile\" component={Profile} />\n    <Route path=\"/order-summary\" component={OrderSummary} />\n    <Route path=\"/checkout\" component={Checkout} />\n    <Route path=\"/category/:categoryChoose\" component={CategorieChoose} />\n\n    {/* <Route path=\"/jackets\" component={CategorieChoose} />\n    <Route path=\"/coats\" component={CategorieChoose} />\n    <Route path=\"/shirts\" component={CategorieChoose} />\n    <Route path=\"/t-shirts\" component={CategorieChoose} />\n    <Route path=\"/sport\" component={CategorieChoose} />\n    <Route path=\"/shoes\" component={CategorieChoose} />\n    <Route path=\"/hats\" component={CategorieChoose} />\n    <Route path=\"/outwear\" component={CategorieChoose} /> */}\n\n    {/* <Route component={PageNotFound} /> */}\n  </Hoc>\n);\n\nexport default BaseRouter;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { authAxios } from \"../utils\";\nimport {\n  Button,\n  Container,\n  Divider,\n  Dropdown,\n  Grid,\n  Header,\n  Icon,\n  Image,\n  List,\n  Menu,\n  Segment,\n} from \"semantic-ui-react\";\nimport { productListURL, orderSummaryURL, mediaURL } from \"../constants\";\nimport { logout, logoutReload } from \"../store/actions/auth\";\nimport { fetchCart } from \"../store/actions/cart\";\nimport { SearchBar } from \"./SearchResult\";\nimport Categories from \"./Categories\";\n\n// ResponsiveNavBar\nimport \"semantic-ui-css/semantic.min.css\";\nimport \"./elements/navbar.css\";\n// ResponsiveNavBar\n// const Logo = mediaURL + \"logo.png\";\n\n\n\nclass CustomLayout extends Component {\n  state = {\n    value: \"\",\n    data: [],\n    dropdownMenuStyle: {\n      display: \"none\",\n    },\n  };\n\n  handleToggleDropdownMenu = () => {\n    let newState = Object.assign({}, this.state);\n    if (newState.dropdownMenuStyle.display === \"none\") {\n      newState.dropdownMenuStyle = { display: \"flex\" };\n    } else {\n      newState.dropdownMenuStyle = { display: \"none\" };\n    }\n\n    this.setState(newState);\n  };\n\n  async componentDidMount() {\n    this.setState({ loading: true });\n    this.props.fetchCart();\n    this.handleFetchOrder();\n\n    // this.props.fetchCart(); // update the cart count\n\n    const res = await axios\n      .get(productListURL)\n      .then((res) => {\n        console.log(res.data);\n        this.setState({ data: res.data, loading: false });\n      })\n      .catch((err) => {\n        this.setState({ error: err, loading: false });\n      });\n  }\n\n  handleFetchOrder = () => {\n    this.setState({ loading: true });\n    authAxios\n      .get(orderSummaryURL)\n      .then((res) => {\n        this.setState({ data: res.data, loading: false });\n      })\n      .catch((err) => {\n        if (err.response.status === 404) {\n          this.setState({\n            error: \"You currently do not have an order\",\n            loading: false,\n          });\n        } else {\n          this.setState({ error: err, loading: false });\n        }\n      });\n  };\n\n  hideFixedMenu = () => this.setState({ fixed: false });\n  showFixedMenu = () => this.setState({ fixed: true });\n\n\n  render() {\n    const { authenticated, cart, loading } = this.props;\n    const { data } = this.state;\n\n    return (\n      <React.Fragment>\n        <div className=\"App\">\n          <Grid padded className=\"tablet computer only\">\n            <Menu borderless fluid fixed=\"top\" size=\"huge\" inverted>\n              <Container>\n                <Menu.Item onClick={() => this.props.history.push(\"/\")}>\n                  Stiles&Lydia\n                </Menu.Item>\n\n                <Dropdown text=\"Categories\" className=\"link item\">\n                  <Dropdown.Menu>\n                    <Dropdown.Item\n                      onClick={() =>\n                        this.props.history.push(\"/category/jackets\")\n                      }\n                    >\n                      Jackets\n                    </Dropdown.Item>\n                    <Dropdown.Item\n                      onClick={() => this.props.history.push(\"/category/coats\")}\n                    >\n                      Coats\n                    </Dropdown.Item>\n                    <Dropdown.Item\n                      onClick={() =>\n                        this.props.history.push(\"/category/outwear\")\n                      }\n                    >\n                      Outwear\n                    </Dropdown.Item>\n                    <Dropdown.Item\n                      onClick={() => this.props.history.push(\"/category/hats\")}\n                    >\n                      Hats\n                    </Dropdown.Item>\n                    <Dropdown.Item\n                      onClick={() =>\n                        this.props.history.push(\"/category/shirts\")\n                      }\n                    >\n                      Shirts\n                    </Dropdown.Item>\n                    <Dropdown.Item\n                      onClick={() =>\n                        this.props.history.push(\"/category/t-shirts\")\n                      }\n                    >\n                      T-shirts\n                    </Dropdown.Item>\n                    <Dropdown.Item\n                      onClick={() => this.props.history.push(\"/category/sport\")}\n                    >\n                      Sports\n                    </Dropdown.Item>\n                    <Dropdown.Item\n                      onClick={() => this.props.history.push(\"/category/shoes\")}\n                    >\n                      Shoes\n                    </Dropdown.Item>\n                  </Dropdown.Menu>\n                </Dropdown>\n                <SearchBar />\n                <Menu.Menu position=\"right\">\n                  {authenticated ? (\n                    <React.Fragment>\n                      <Menu.Item\n                        onClick={() => this.props.history.push(\"/profile\")}\n                      >\n                        Profile\n                      </Menu.Item>\n                      <Dropdown\n                        icon=\"cart\"\n                        loading={loading}\n                        text={`${cart !== null ? cart.order_items.length : 0}`}\n                        className=\"link item\"\n                      >\n                        <Dropdown.Menu>\n                          {cart &&\n                            cart.order_items.map((order_item) => {\n                              return (\n                                <Dropdown.Item key={order_item.id}>\n                                  {order_item.quantity} x{\" \"}\n                                  {order_item.item.title}\n                                </Dropdown.Item>\n                              );\n                            })}\n                          {cart && cart.order_items.length < 1 ? (\n                            <Dropdown.Item>No items in your cart</Dropdown.Item>\n                          ) : null}\n                          <Dropdown.Divider />\n                          <Dropdown.Item\n                            icon=\"arrow right\"\n                            text=\"Chechout\"\n                            onClick={() =>\n                              this.props.history.push(\"/order-summary\")\n                            }\n                          />\n                        </Dropdown.Menu>\n                      </Dropdown>\n                      <Menu.Item\n                        onClick={() => {\n                          this.props.logout();\n                          this.props.logoutReload();\n                        }}\n                      >\n                        Logout\n                      </Menu.Item>\n                    </React.Fragment>\n                  ) : (\n                    <React.Fragment>\n                      <Menu.Item\n                        onClick={() => this.props.history.push(\"/login\")}\n                      >\n                        Login\n                      </Menu.Item>\n\n                      <Menu.Item\n                        onClick={() => this.props.history.push(\"/signup\")}\n                      >\n                        Signup\n                      </Menu.Item>\n                    </React.Fragment>\n                  )}\n                </Menu.Menu>\n              </Container>\n            </Menu>\n          </Grid>\n          <Grid padded className=\"mobile only\">\n          <Menu borderless fluid fixed=\"top\" size=\"huge\" inverted>\n          <Menu.Item onClick={() => this.props.history.push(\"/\")}>\n                  Stiles&Lydia\n                </Menu.Item>\n              <Menu.Menu position=\"right\">\n                <Menu.Item>\n                  <Button\n                    icon\n                    basic\n                    toggle\n                    onClick={this.handleToggleDropdownMenu}\n                  >\n                    <Icon name=\"content\" />\n                  </Button>\n                </Menu.Item>\n              </Menu.Menu>\n              <Menu\n                vertical\n                borderless\n                fluid\n                style={this.state.dropdownMenuStyle}\n              >\n                <Dropdown text=\"Categories\" className=\"link item\">\n                  <Dropdown.Menu>\n                    <Dropdown.Item\n                      onClick={() =>\n                        this.props.history.push(\"/category/jackets\")\n                      }\n                    >\n                      Jackets\n                    </Dropdown.Item>\n                    <Dropdown.Item\n                      onClick={() => this.props.history.push(\"/category/coats\")}\n                    >\n                      Coats\n                    </Dropdown.Item>\n                    <Dropdown.Item\n                      onClick={() =>\n                        this.props.history.push(\"/category/outwear\")\n                      }\n                    >\n                      Outwear\n                    </Dropdown.Item>\n                    <Dropdown.Item\n                      onClick={() => this.props.history.push(\"/category/hats\")}\n                    >\n                      Hats\n                    </Dropdown.Item>\n                    <Dropdown.Item\n                      onClick={() =>\n                        this.props.history.push(\"/category/shirts\")\n                      }\n                    >\n                      Shirts\n                    </Dropdown.Item>\n                    <Dropdown.Item\n                      onClick={() =>\n                        this.props.history.push(\"/category/t-shirts\")\n                      }\n                    >\n                      T-shirts\n                    </Dropdown.Item>\n                    <Dropdown.Item\n                      onClick={() => this.props.history.push(\"/category/sport\")}\n                    >\n                      Sports\n                    </Dropdown.Item>\n                    <Dropdown.Item\n                      onClick={() => this.props.history.push(\"/category/shoes\")}\n                    >\n                      Shoes\n                    </Dropdown.Item>\n                  </Dropdown.Menu>\n                </Dropdown>\n                <SearchBar />\n                {authenticated ? (\n                    <React.Fragment>\n                      <Menu.Item\n                        onClick={() => this.props.history.push(\"/profile\")}\n                      >\n                        Profile\n                      </Menu.Item>\n                      <Dropdown\n                        icon=\"cart\"\n                        loading={loading}\n                        text={`${cart !== null ? cart.order_items.length : 0}`}\n                        className=\"link item\"\n                      >\n                        <Dropdown.Menu>\n                          {cart &&\n                            cart.order_items.map((order_item) => {\n                              return (\n                                <Dropdown.Item key={order_item.id}>\n                                  {order_item.quantity} x{\" \"}\n                                  {order_item.item.title}\n                                </Dropdown.Item>\n                              );\n                            })}\n                          {cart && cart.order_items.length < 1 ? (\n                            <Dropdown.Item>No items in your cart</Dropdown.Item>\n                          ) : null}\n                          <Dropdown.Divider />\n                          <Dropdown.Item\n                            icon=\"arrow right\"\n                            text=\"Chechout\"\n                            onClick={() =>\n                              this.props.history.push(\"/order-summary\")\n                            }\n                          />\n                        </Dropdown.Menu>\n                      </Dropdown>\n                      <Menu.Item\n                        onClick={() => {\n                          this.props.logout();\n                          this.props.logoutReload();\n                        }}\n                      >\n                        Logout\n                      </Menu.Item>\n                    </React.Fragment>\n                  ) : (\n                    <React.Fragment>\n                      <Menu.Item\n                        onClick={() => this.props.history.push(\"/login\")}\n                      >\n                        Login\n                      </Menu.Item>\n\n                      <Menu.Item\n                        onClick={() => this.props.history.push(\"/signup\")}\n                      >\n                        Signup\n                      </Menu.Item>\n                    </React.Fragment>\n                  )}\n              </Menu>\n            </Menu>\n          </Grid>\n          {this.props.children}\n        </div>\n\n        <Segment inverted vertical style={{ padding: \"5em 0em\" }}>\n          <Container textAlign=\"center\">\n            <Grid divided inverted stackable>\n              <Grid.Column width={3}>\n                <Header inverted as=\"h4\" content=\"About\" />\n                <List link inverted>\n                  <List.Item as=\"a\">Link One</List.Item>\n                  <List.Item as=\"a\">Link Two</List.Item>\n                  <List.Item as=\"a\">Link Three</List.Item>\n                  <List.Item as=\"a\">Link Four</List.Item>\n                </List>\n              </Grid.Column>\n              <Grid.Column width={3}>\n                <Header inverted as=\"h4\" content=\"Services\" />\n                <List link inverted>\n                  <List.Item as=\"a\">Link One</List.Item>\n                  <List.Item as=\"a\">Link Two</List.Item>\n                  <List.Item as=\"a\">Link Three</List.Item>\n                  <List.Item as=\"a\">Link Four</List.Item>\n                </List>\n              </Grid.Column>\n              <Grid.Column width={3}>\n                <Header inverted as=\"h4\" content=\"Partners\" />\n                <List link inverted>\n                  <List.Item as=\"a\">Link One</List.Item>\n                  <List.Item as=\"a\">Link Two</List.Item>\n                  <List.Item as=\"a\">Link Three</List.Item>\n                  <List.Item as=\"a\">Link Four</List.Item>\n                </List>\n              </Grid.Column>\n              <Grid.Column width={7}>\n                <Header as=\"h4\" inverted>\n                  Footer Header\n                </Header>\n                <p>\n                  Extra space for a call to action inside the footer that could\n                  help re-engage users.\n                </p>\n              </Grid.Column>\n            </Grid>\n\n            <Divider inverted section />\n            <Image centered size=\"mini\" src=\"/logo.png\" />\n            <List horizontal inverted divided link size=\"small\">\n              <List.Item as=\"a\" href=\"#\">\n                Site Map\n              </List.Item>\n              <List.Item as=\"a\" href=\"#\">\n                Contact Us\n              </List.Item>\n              <List.Item as=\"a\" href=\"#\">\n                Terms and Conditions\n              </List.Item>\n              <List.Item as=\"a\" href=\"#\">\n                Privacy Policy\n              </List.Item>\n            </List>\n          </Container>\n        </Segment>\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    authenticated: state.auth.token !== null,\n    cart: state.cart.shoppingCart,\n    loading: state.cart.loading,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    logout: () => dispatch(logout()),\n    logoutReload: () => dispatch(logoutReload()),\n    fetchCart: () => dispatch(fetchCart()),\n  };\n};\n\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(CustomLayout)\n);\n","import React, { Component } from \"react\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport BaseRouter from \"./routes\";\nimport * as actions from \"./store/actions/auth\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport CustomLayout from \"./components/Layout\";\nimport './App.scss'\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.onTryAutoSignup();\n  }\n\n  render() {\n    return (\n      <Router>\n        <CustomLayout {...this.props}>\n          <BaseRouter />\n        </CustomLayout>\n      </Router>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    isAuthenticated: state.auth.token !== null\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onTryAutoSignup: () => dispatch(actions.authCheckState())\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App);\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://goo.gl/SC7cgQ\"\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log(\"New content is available; please refresh.\");\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get(\"content-type\").indexOf(\"javascript\") === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export const updateObject = (oldObject, updatedProperties) => {\n  return {\n    ...oldObject,\n    ...updatedProperties\n  };\n};\n","import * as actionTypes from \"../actions/actionTypes\";\nimport { updateObject } from \"../utility\";\n\nconst initialState = {\n  token: null,\n  error: null,\n  loading: false\n};\n\nconst authStart = (state, action) => {\n  return updateObject(state, {\n    error: null,\n    loading: true\n  });\n};\n\nconst authSuccess = (state, action) => {\n  return updateObject(state, {\n    token: action.token,\n    error: null,\n    loading: false\n  });\n};\n\nconst authFail = (state, action) => {\n  return updateObject(state, {\n    error: action.error,\n    loading: false\n  });\n};\n\nconst authLogout = (state, action) => {\n  return updateObject(state, {\n    token: null\n  });\n};\n\nconst authReload = (state, action) => {\n  return updateObject(state, {\n    token: null\n  });\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.AUTH_START:\n      return authStart(state, action);\n    case actionTypes.AUTH_SUCCESS:\n      return authSuccess(state, action);\n    case actionTypes.AUTH_RELOAD:\n      return authReload(state, action);\n    case actionTypes.AUTH_FAIL:\n      return authFail(state, action);\n    case actionTypes.AUTH_LOGOUT:\n      return authLogout(state, action);\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import { CART_START, CART_SUCCESS, CART_FAIL} from \"../actions/actionTypes\";\nimport { updateObject } from \"../utility\";\n\nconst initialState = {\n  shoppingCart: null,\n  error: null,\n  loading: false\n};\n\nconst cartStart = (state, action) => {\n  return updateObject(state, {\n    error: null,\n    loading: false\n  });\n};\n\nconst cartSuccess = (state, action) => {\n  return updateObject(state, {\n    shoppingCart: action.data,\n    error: null,\n    loading: false\n  });\n};\n\nconst cartFail = (state, action) => {\n  return updateObject(state, {\n    error: action.error,\n    loading: false\n  });\n};\n\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case CART_START:\n      return cartStart(state, action);\n    case CART_SUCCESS:\n      return cartSuccess(state, action);\n    case CART_FAIL:\n      return cartFail(state, action);\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport registerServiceWorker from \"./registerServiceWorker\";\nimport { createStore, compose, applyMiddleware, combineReducers } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport thunk from \"redux-thunk\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport authReducer from \"./store/reducers/auth\";\nimport cartReduser from './store/reducers/cart';\n\nconst composeEnhances = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst rootReducer = combineReducers({\n  auth: authReducer,\n  cart: cartReduser\n});\n\nconst store = createStore(rootReducer, composeEnhances(applyMiddleware(thunk)));\n\nconst app = (\n  <Provider store={store}>\n    <App />\n  </Provider>\n);\n\nReactDOM.render(app, document.getElementById(\"root\"));\nregisterServiceWorker();\n"],"sourceRoot":""}